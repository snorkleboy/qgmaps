{"code":"!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=0)}([function(e,n,t){\"use strict\";function r(e){const n=document.getElementById(\"list\");o(n);const t=s(e);n.appendChild(t)}function o(e){e.innerHTML=\"\"}t.r(n);const a='\\n<div>\\n    <h1 id=\"title\"></h1>\\n    <h2 id=\"WOStatus\"></h1>\\n    <div id=\\'weatherData\\'></div>\\n</div>\\n';function s(e){const n=document.createElement(\"li\");n.innerHTML=a;const t=n.querySelector(\"#title\"),r=n.querySelector(\"#WOStatus\"),o=n.querySelector(\"#weatherData\");return t.innerText=e.provider,r.innerText=`[${e.WOStatus}]`,o.innerText=JSON.stringify(e.weatherData),n}var i=function(e,n){const t=function(e){const n=[];for(let t=0;t<e;t++)n[t]={lat:15*Math.random()+30,lng:-40*Math.random()-80};return n}(e).map(e=>(function(e,n,t){const r=`p=${e.lat},${e.lng}`,o=[\"https://api.aerisapi.com/observations/archive?client_id=45yv8VupfeOkKylvazTSa&client_secret=sPoCW1N6z7BMpwkWkbrXDFbytIWtWVX47BdNwNJx\",r,\"plimit=1\"].join(\"&\");return fetch(o,{mode:\"cors\"}).then(e=>e.json()).then(e=>{if(!e.error)return console.log(e),e.response;console.log({error:e.error})})})(e).then(t=>{const o=new google.maps.Marker({position:e,name:`super useful company ${bigRandom()}-${bigRandom()}th street`,dataPoint:\"this is some data\",WOStatus:function(){const e=10*Math.random(),n=[];for(let t=0;t<e;t++)n.push(Math.random()>.5?\" in progress \":\" complete \");return n}(),provider:`super useful company ${bigRandom()}`,weatherData:t});return o.addListener(\"click\",function(){r(o)}),o.addListener(\"mouseover\",()=>{let e,t;r(o),o.weatherData&&(e=o.weatherData.periods[0].ob.tempF,t=o.weatherData.periods[0].ob.snowDepthCM||\"no snow\");const a=`\\n                ${o.name}\\n                <br>\\n                <br>workOrder Status':\\n                <br>[${o.WOStatus}]\\n                <br>\\n                <br>Weather:{\\n                <br>temp:${e}\\n                <br>cm of Snow:${t}\\n                <br>}\\n                `;infoWindow.setContent(a),infoWindow.open(n,o)}),o.addListener(\"mouseout\",()=>{infoWindow.close()}),o}));return Promise.all(t)};var l=function(e,n){console.log(n);const t=new MarkerClusterer(e,n,{imagePath:\"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m\",zoomOnClick:!1});return t.addListener(\"clusterclick\",function(n){const r=n.getMarkers();!function(e){const n=document.getElementById(\"list\");o(n);const t=e.length>maxClusterMarkersDisplayed?maxClusterMarkersDisplayed:e.length;for(let r=0;r<t;r++){const t=s(e[r]);n.appendChild(t)}if(e.length>maxClusterMarkersDisplayed){const t=document.createElement(\"h1\");t.innerText=`${e.length-maxClusterMarkersDisplayed} more undisplayed`,n.appendChild(t)}}(r);let a=r.slice(0,maxClusterMarkersDisplayed).map(e=>e.name).join(\"<br>\");r.length>maxClusterMarkersDisplayed&&(a+=`<br> ${r.length-maxClusterMarkersDisplayed} undisplayed`),infoWindow.setContent(a),infoWindow.setPosition(n.getCenter()),infoWindow.open(e,t)}),t};var c=function(){const e=new google.maps.Map(document.getElementById(\"map\"),{zoom:5,center:{lat:40,lng:-90},mapTypeId:\"hybrid\"});return google.maps.event.addListener(e,\"click\",function(e){console.log(\"map lcick\"),this.setOptions({scrollwheel:!0})}),e};!function(){var e=new Error('Cannot find module \"/./makeOverlays.js\"');throw e.code=\"MODULE_NOT_FOUND\",e}(),document.addEventListener(\"DOMContentLoaded\",()=>{infoWindow=new google.maps.InfoWindow({maxWidth:200}),maxClusterMarkersDisplayed=8;const e=c();i(20,e).then(n=>l(e,n)).then(e=>!function(){var e=new Error('Cannot find module \"/./makeOverlays.js\"');throw e.code=\"MODULE_NOT_FOUND\",e}()(e))})}]);","extractedComments":[]}